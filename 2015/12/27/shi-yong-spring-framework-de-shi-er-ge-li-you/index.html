<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























  

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css">

<link href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="今天在外网看到一篇文章讲述了在项目中使用 Spring 的 12 个理由，觉得非常不错，转载如下。">
<meta name="keywords" content="Spring">
<meta property="og:type" content="article">
<meta property="og:title" content="使用Spring Framework的十二个理由">
<meta property="og:url" content="http://doboot.github.io/2015/12/27/shi-yong-spring-framework-de-shi-er-ge-li-you/index.html">
<meta property="og:site_name" content="Ivan&#39;s Blog">
<meta property="og:description" content="今天在外网看到一篇文章讲述了在项目中使用 Spring 的 12 个理由，觉得非常不错，转载如下。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-webflow.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-hateoas.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-security.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-ldap.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-data.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-batch.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-integration.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-boot.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-social.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-cloud.png">
<meta property="og:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-xd.png">
<meta property="og:updated_time" content="2020-11-14T06:10:20.953Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用Spring Framework的十二个理由">
<meta name="twitter:description" content="今天在外网看到一篇文章讲述了在项目中使用 Spring 的 12 个理由，觉得非常不错，转载如下。">
<meta name="twitter:image" content="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-webflow.png">



  <link rel="alternate" href="/atom.xml" title="Ivan's Blog" type="application/atom+xml">




  <link rel="canonical" href="http://doboot.github.io/2015/12/27/shi-yong-spring-framework-de-shi-er-ge-li-you/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>使用Spring Framework的十二个理由 | Ivan's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ivan's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">虽日暮途远，仍梦想诗和远方</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://doboot.github.io/2015/12/27/shi-yong-spring-framework-de-shi-er-ge-li-you/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ivan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/348097?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ivan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">使用Spring Framework的十二个理由

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2015-12-27 01:28:00" itemprop="dateCreated datePublished" datetime="2015-12-27T01:28:00+08:00">2015-12-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-11-14 14:10:20" itemprop="dateModified" datetime="2020-11-14T14:10:20+08:00">2020-11-14</time>
              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2015/12/27/shi-yong-spring-framework-de-shi-er-ge-li-you/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2015/12/27/shi-yong-spring-framework-de-shi-er-ge-li-you/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">18k</span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>今天在外网看到一篇文章讲述了在项目中使用 Spring 的 12 个理由，觉得非常不错，转载如下。<br><a id="more"></a></p>
<p>I am proud to say I have been a <strong>Spring developer</strong> since 2004. I have used Spring Framework in all my projects since then.</p>
<p>The projects did differ in the Spring modules that came into play based on the clients needs.</p>
<p>There are some modules and projects I have never worked with and I will identify them as we go along.</p>
<p>Having said that, I am trying some of these new modules in my current projects. I may come back to update my familiarity with them in future as I learn more.</p>
<p>The term ‘Spring developer’ needs a quick mention. With it, I want to clarify how I leveraged Spring Framework and its modules in my projects as we go along.</p>
<p>This will help you understand where Spring Framework can come into play in your projects.</p>
<p>You will get to understand what it can or cannot do based on some real use case scenarios I provide below. I will refer to different projects within Spring Framework Ecosystem throughout the post.</p>
<p>Some of these terms below may be new to you. For now, It is more important to understand the problem they are solving. I will revisit them one by one in the future posts.</p>
<p>Here are twelve reasons to use Spring Framework in your projects in no particular order:</p>
<h2 id="1-Use-Spring-Framework-for-writing-web-applications"><a href="#1-Use-Spring-Framework-for-writing-web-applications" class="headerlink" title="1. Use Spring Framework for writing web applications"></a>1. Use Spring Framework for writing web applications</h2><p>It did not start out this way. But <strong>Spring MVC</strong> is now the de facto framework for java web applications development.</p>
<p>Most of my projects used Spring MVC. Other frameworks in space include <a href="https://struts.apache.org/" target="_blank" rel="noopener">Struts</a>, <a href="https://myfaces.apache.org/" target="_blank" rel="noopener">JSF</a>, <a href="http://tapestry.apache.org/" target="_blank" rel="noopener">Tapestry</a>, <a href="http://www.gwtproject.org/" target="_blank" rel="noopener">GWT</a>, <a href="https://www.playframework.com/" target="_blank" rel="noopener">Play</a> etc.</p>
<p>Most other web applications provide integration with Spring Framework. With Spring MVC, this support is natural and built-in.</p>
<p>And Spring MVC delivers.</p>
<p>You are not bound to any container lifecycle that you need to manipulate. Spring does this behind the scenes for you. If you do decide to participate in the lifecycle, Spring exposes methods that can be overridden.</p>
<p>Spring MVC provides special form tags and validation out of the box. It supports the easy availability of model. It handles the request to model mapping.</p>
<p>You can add custom converters to handle special data in your forms. I will discuss this in a new light with code and samples soon.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-webflow.png" alt="Spring Web Flow Logo">Spring Web Flow</p>
<p>Spring MVC makes sense for most of the web based applications. If you have a <strong>stateful</strong>application, I suggest you look at <strong>Spring Web Flow</strong>.</p>
<p>Only one of my projects leveraged Spring Web Flow. That was a long time ago.</p>
<p>Spring Web Flow lets you build a wizard – a set of screens a user must go through before saving the data. Spring Web Flow will save you from having to store a lot of temporary data.</p>
<p>A mortgage application would be a stateful application. A flight reservation system is another example.</p>
<h2 id="2-Use-Spring-Framework-for-exposing-RESTful-services"><a href="#2-Use-Spring-Framework-for-exposing-RESTful-services" class="headerlink" title="2. Use Spring Framework for exposing RESTful services"></a>2. Use Spring Framework for exposing RESTful services</h2><p>Use Spring MVC to expose your services as RESTful URLs. <a href="https://jersey.java.net/" target="_blank" rel="noopener">Jersey</a> is another alternative.</p>
<p>Spring HATEOAS sits on top of Spring MVC and helps it better represent resources.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-hateoas.png" alt="Spring HATEOAS Logo">Spring HATEOAS</p>
<p><a href="https://en.wikipedia.org/wiki/HATEOAS" target="_blank" rel="noopener">HATEOAS</a> stands for <strong>H</strong>ypermedia <strong>a</strong>s <strong>t</strong>he <strong>E</strong>ngine <strong>o</strong>f <strong>A</strong>pplication <strong>S</strong>tate.</p>
<p>I will try and give a quick and dirty explanation for HATEOAS. I understand the concept, but I haven’t used it in my projects yet.</p>
<p>A web services developer provides a contract to its consumer before they can call it.</p>
<p>In <a href="https://en.wikipedia.org/wiki/SOAP" target="_blank" rel="noopener">SOAP</a> world, this was the stub or the interface that let the client know which methods were available.</p>
<p>In <a href="https://en.wikipedia.org/wiki/REST" target="_blank" rel="noopener">REST</a>, we have been building URLs with appropriate data to send. We still needed to know what the server expects here.</p>
<p>In Hypermedia, the resource identifiers will give you a clue about what it expects. This will give you insight into how you can further interact with it. A small convention over configuration on the web, if you will.</p>
<p>I used Jersey for one of my projects as opposed to Spring MVC. Jersey follows JSR specification for creating RESTful web services.</p>
<p>Spring MVC deviates from the specification in a slight way. It is easy to convert the API from Spring MVC to Jersey and vice versa. I will discuss MVC in future but for now it stands for <strong>M</strong>odel, <strong>V</strong>iew and <strong>C</strong>ontroller. MVC helps define a clear separation of concerns amongst layers.  For instance, your view should not depend on how java models it.</p>
<p>In my opinion, when in doubt always go with Spring MVC. If you ever need to support a web page with JSP, Jersey can’t help you. Jersey deals with REST only. Spring MVC will give you best of both worlds.</p>
<p>If your client wants to use jQuery on top of JSPs, you can do so with Spring MVC. If, at a later point of time, you want to use a Javascript MVC framework, Spring MVC will continue to support you.</p>
<p>Few popular Javascript MVC frameworks are <a href="https://angularjs.org/" target="_blank" rel="noopener">AngularJS</a>, <a href="http://emberjs.com/" target="_blank" rel="noopener">Ember</a>, and <a href="http://backbonejs.org/" target="_blank" rel="noopener">Backbone.js</a></p>
<p>Javascript MVC frameworks bring structure to the javascript code. It keeps the code modular and clear.</p>
<p>CSS Frameworks bring ease and structure to the web design code. <a href="http://getbootstrap.com/" target="_blank" rel="noopener">Bootstrap</a> is the most popular CSS Framework out there. <a href="http://foundation.zurb.com/" target="_blank" rel="noopener">Foundation</a> is another one.</p>
<p>Spring MVC brings structure to the servlet programming model. It keeps the data model separate from view. Servlets embedded HTML code a long time ago. Struts MVC Framework solved that problem. Spring MVC came later.</p>
<p>Javascript MVC frameworks are like Spring MVC but on the javascript layer. With Javascript MVC frameworks, you build your web pages separate from your server logic.</p>
<p>The two layers then communicate and exchange data with servers via RESTful URLs.</p>
<p>More on MVC frameworks in future posts.</p>
<h2 id="3-Use-Spring-Framework-to-secure-your-web-applications"><a href="#3-Use-Spring-Framework-to-secure-your-web-applications" class="headerlink" title="3. Use Spring Framework to secure your web applications."></a>3. Use Spring Framework to secure your web applications.</h2><p>For all my projects that involved web development, I have used Spring Security.  A two-minute introduction is below.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-security.png" alt="Spring Security Logo">Spring Security</p>
<p>Spring Security intercepts web URLs. Here are few examples:</p>
<p><em>You can tell it that all URLs with a specific pattern e.g. <strong>/static</strong> are accessible to all users.</em> </p>
<p><em>You can tell it that all URLs with a specific pattern e.g. <strong>/admin</strong> are only available to users with a specific role. e.g. ROLE_ADMIN.</em></p>
<p>You can also add annotations on the java methods to make them secure. I will discuss this in length in a future post.</p>
<p>Spring Security provides both <strong>authentication</strong> as well as <strong>authorization</strong>.</p>
<p><strong>Authentication</strong> helps identify who you are.</p>
<p><strong>Authorization</strong> helps identify what you can do in the system.</p>
<p>When starting a fresh project, I integrate spring security and use <strong>in-memory</strong> authentication.</p>
<p>In-memory authentication premise is simple. You hard code a bunch of username, password, role combination into a file or within your XML or java code.</p>
<p>Spring Security would then let you in using either one of them and give you the role for that user. This helps developers continue with the application development.</p>
<p>Later, you could plug in a different authentication provider. And there are no code changes to the business logic as a result of this.</p>
<p>Most projects I have worked with pull credentials from database tables. Once the database is available, we switch to a database authentication provider.</p>
<p>For two of my projects, I have authenticated users against LDAP via <strong>Spring LDAP</strong>.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-ldap.png" alt="Spring LDAP Logo">Spring LDAP</p>
<p>For one of my other projects, our users were database schema owners. Spring security supported custom authentication where we had to proxy as database users.</p>
<p>One of the projects I worked on required BASIC authentication support.</p>
<p>Three of my projects leveraged the following Single Sign-On (SSO)  solutions for pre-authentication.</p>
<ol>
<li><strong>Oracle Based Single Sign-On (OBSSO) .</strong> I used Spring Security Custom authentication here to integrate it with my applications.</li>
<li><strong>CA Siteminder aka CA Single Sign-On.</strong> Spring Security provides a built-in module for this. In my opinion, this is the easiest single sign-on solution to work with. CA Siteminder is a paid solution.</li>
<li><strong>Apereo’s Central Authentication Service (CAS).</strong>  This is open source Single Sign-On solution that came out of Yale University. If you can’t afford CA Siteminder, CAS may work for you. It is a free and open source solution. Apereo provides jars for integration with Spring Security.</li>
</ol>
<h2 id="4-Use-Spring-Framework-for-communicating-with-databases"><a href="#4-Use-Spring-Framework-for-communicating-with-databases" class="headerlink" title="4. Use Spring Framework for communicating with databases."></a>4. Use Spring Framework for communicating with databases.</h2><p>For most of my projects, I used <strong>Spring ORM</strong> with hibernate underneath. One of the projects used <strong>Spring JPA</strong>while the others were direct hibernate calls. ORM is the Object Relational Mapping. It is a way to represent your tables into java objects and vice versa. <a href="http://hibernate.org/" target="_blank" rel="noopener">Hibernate</a> is the most popular ORM Framework. <a href="http://mybatis.org/mybatis-3/" target="_blank" rel="noopener">myBatis</a> is another one.</p>
<p>One of the projects used <strong>myBatis</strong> instead of Hibernate. <strong>mybatis-spring</strong> module came in handy there. MyBatis used to be iBatis before iPhone and iMac and iPad came along.</p>
<p>And if you are dealing with a lot of existing plain old JDBC code, my suggestion would be to use <strong>Spring JDBC</strong>.</p>
<p>Let Spring JDBC close your statements and connections. Use Spring JDBC to integrate connection pooling. Let Spring handle your database transactions as well.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-data.png" alt="Spring Data Logo">Spring Data</p>
<p>I also ran into situations where I was using hibernate for ORM but had to call a pl/SQL procedure in Oracle. Hibernate expects your procedure in a certain way. So, I used Spring JDBC to call procedures if they didn’t fit in the structure required by hibernate.</p>
<p>If you are starting a new project, I would recommend using <strong>Spring Data</strong>. It sits on top of Spring ORM.</p>
<p>With Spring Data, you don’t write standard CRUD operations. They come built-in. I will explain this in a future post.</p>
<p>I have used Spring Data for Oracle and MongoDB now without any issues. I know it has support for other NoSQL and graph databases like Redis, Cassandra, Neo4j, Couchbase, Elasticsearch and Solr.</p>
<h2 id="5-Use-Spring-Framework-for-handling-long-running-jobs"><a href="#5-Use-Spring-Framework-for-handling-long-running-jobs" class="headerlink" title="5. Use Spring Framework for handling long running jobs."></a>5. Use Spring Framework for handling long running jobs.</h2><p>I have worked at two projects where the database queries would take hours to finish. I will explain the reason below in a second.</p>
<p>You can’t expect your users who kick off this report to wait that long, though.</p>
<p>For one, Your browser requests will die based on the application server settings. For instance, tomcat has a default setting of 30 minutes before timing out user request. So the process may be running in the background but the user can’t see it anymore.</p>
<p>One of the projects had accounting updates to make to millions of rows. Here we used <strong>Spring Batch</strong>.</p>
<p><a href="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-batch.png" target="_blank" rel="noopener"><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-batch.png" alt="Spring Batch Logo"></a>Spring Batch</p>
<p>In this case, our web request would kick off a Spring Batch Job and immediately return with a Job Id. So the user is not waiting.</p>
<p>I can then use the job id to check the status of the job and keep the user updated of the progress.</p>
<p>This could be an email notification to the user. Or these days, you could leverage web sockets to push any notification to the user while he is still online.</p>
<p>Spring Batch also provides you a way to notify a system in case of status changes. So you could tell Spring Batch to update a row in the database or send an email once the job status changed. The possibilities are endless here.</p>
<p>The second project had reporting data to pull from a massive datamart. The reporting tool we used handled it for us. But the concept was the same with it running async and handing us an id.</p>
<p>Spring Batch expects a certain database schema and it has a learning curve.</p>
<p>Spring Batch does not make things fast. But it will ensure data integrity and consistency in your job.</p>
<p>You can tell it to retry a job X number of times if it fails. You could tell it how to handle failures.</p>
<p>Try coding this yourself and you will appreciate Spring Batch even more.</p>
<h2 id="6-Use-Spring-Framework-to-handle-external-resources-or-systems-you-have-to-work-with"><a href="#6-Use-Spring-Framework-to-handle-external-resources-or-systems-you-have-to-work-with" class="headerlink" title="6. Use Spring Framework to handle external resources or systems you have to work with."></a>6. Use Spring Framework to handle external resources or systems you have to work with.</h2><p>In one of my projects, Our client would send us reports as XML files via web services. These XMLs were small, but there was no definite way to tell when these files would come in. We had 100k XML files come in six months on average.</p>
<p>Our goal was to intercept these files as they came in and process them for our system intake.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-integration.png" alt="Spring Integration Logo">Spring Integration</p>
<p>This is a typical scenario for a service that depends on an external system.</p>
<p>We used <strong>Spring Integration</strong> for this task. We set up a file poller for the directory of incoming files. Once the file came in, the event would get triggered. We would then push it through our workflow.</p>
<p>The code to handle the incoming file would stay separate from the rest of the workflow. This kept the external party dependency away from the rest of the system and made testing easy.</p>
<h2 id="7-Use-Spring-Framework-for-testing-purposes"><a href="#7-Use-Spring-Framework-for-testing-purposes" class="headerlink" title="7. Use Spring Framework for testing purposes."></a>7. Use Spring Framework for testing purposes.</h2><p>I once worked on a Struts 1.x based web application with EJB3 implementation underneath. They needed to perform some clean up of the data for their testing environment on a regular basis.</p>
<p>So, I created a simple standalone Spring JDBC project and ran a bunch of updates on the tables. I learned more about the project and data structure via this effort than from few months code sifting.</p>
<h2 id="8-Use-Spring-Framework-for-standalone-java-projects"><a href="#8-Use-Spring-Framework-for-standalone-java-projects" class="headerlink" title="8. Use Spring Framework for standalone java projects."></a>8. Use Spring Framework for standalone java projects.</h2><p>I worked on a product that was a standalone CLI (command line interface) sold to clients. It was Java based business rules engine with heavy XML parsing.</p>
<p>When things went wrong, it was hard to test which component failed to deliver.</p>
<p>So, I introduced Spring Framework in a test package within the project. I used Spring Context, Spring Test, and JUnit to call these different components.</p>
<p>The testers had an XML and unit tests that could prep the data before each call.</p>
<h2 id="9-Use-Spring-Framework-to-convert-your-application-into-an-executable"><a href="#9-Use-Spring-Framework-to-convert-your-application-into-an-executable" class="headerlink" title="9. Use Spring Framework to convert your application into an executable."></a>9. Use Spring Framework to convert your application into an executable.</h2><p>Going back to the Spring Batch project. We were kicking off these jobs from a web page based on user’s input.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-boot.png" alt="Spring Boot Logo">Spring Boot</p>
<p>The application was using Spring Framework and its different modules already. But an external team needed to kick off these batch jobs from their end on their own schedule.</p>
<p>So, I created an executable using Spring Boot to point to the main Spring Batch Job. It was the same job that we were calling from our web application. It was the same codebase.</p>
<p>The external team could call this executable nightly or whenever now. There was no code change needed from our side.</p>
<h2 id="10-Use-Spring-Framework-to-integrate-Social-Media-into-your-applications"><a href="#10-Use-Spring-Framework-to-integrate-Social-Media-into-your-applications" class="headerlink" title="10. Use Spring Framework to integrate Social Media into your applications."></a>10. Use Spring Framework to integrate Social Media into your applications.</h2><p>I used to have a startup that failed two years ago. It wasn’t due to technology, though.</p>
<p>I used <strong>Spring Social</strong> to allow users to sign into my application. The application would allow any Facebook, Google, Linkedin or Twitter user to sign up as a result.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-social.png" alt="Spring Social Logo">Spring Social</p>
<p>Spring Social leverages OAuth underneath to make this possible. These social media accounts expose OAuth APIs to allow authentication.</p>
<p>I also used <strong>Spring Mobile</strong> to provide a mobile user experience of my application. I won’t recommend this, though.</p>
<p>Spring Mobile allows you to customize your pages so you can tweak them for mobile users. It implies having to change the code to accommodate both users.</p>
<p>This is cumbersome and not the best bang for the buck.</p>
<p>If I were starting out, I would leverage Bootstrap and Angular JS to build out the application.</p>
<p>Bootstrap is responsive CSS Framework and Angular JS is mobile friendly javascript MVC Framework.</p>
<p>As I write this, Angular 2.x is in works. Angular2 is a mobile-first platform.</p>
<h2 id="11-Use-Spring-Framework-to-come-up-with-a-quick-prototype"><a href="#11-Use-Spring-Framework-to-come-up-with-a-quick-prototype" class="headerlink" title="11. Use Spring Framework to come up with a quick prototype."></a>11. Use Spring Framework to come up with a quick prototype.</h2><p>If you are looking to expose few database tables as a set of screens, I recommend you look into <strong>Spring Roo</strong>. You will get a working CRUD application that will maintain data integrity out of the box.</p>
<p>You can then use the app to allow data manipulation without going into the database.</p>
<p>Sometimes you want to ask your client for important columns to show on screen. Spring Roo could be a quick prototype for client feedback in that case.  You can do this with Grails even faster. If you know Groovy, maybe you’d consider this.</p>
<h2 id="12-Use-Spring-Framework-to-get-Started"><a href="#12-Use-Spring-Framework-to-get-Started" class="headerlink" title="12. Use Spring Framework to get Started."></a>12. Use Spring Framework to get Started.</h2><p>Last but not least, Spring Framework helps you get started.</p>
<p>Use Spring Boot to create the web or standalone application in a span of few minutes. If you are a Groovy guy and used Grails, you have the same power in Spring Boot for java now and then some.</p>
<p><a href="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-cloud.png" target="_blank" rel="noopener"><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-cloud.png" alt="Spring Cloud Logo"></a>Spring Cloud</p>
<p>Use Spring Cloud to build micro services fast. The micro-services are already configured for registration and discovery. And that’s all I know at this point about Spring Cloud.</p>
<p><em>I have never used Spring Cloud in any of my projects.</em></p>
<p>Use Spring XD to build a distributed system for your big data applications.</p>
<p>I explained earlier how Spring Batch can fail-proof your long running jobs.</p>
<p>If you have a web application that spawns these jobs, you need a way to abstract Spring Batch from the rest of the app. Spring Integration comes in handy here.</p>
<p><img src="http://cdn.springtutorials.com/wp-content/uploads/2015/10/spring-xd.png" alt="Spring XD Logo">Spring XD</p>
<p>If you leverage Hadoop for big data, Spring Batch can act as a backbone. You could segregate the work as Tasklets. These tasklets coordinate their flow using Steps. These Steps can combine to become a Job.</p>
<p>It is easy to propose Spring Batch alone. Combine it with Spring Integration and you have a distributed system per se.</p>
<p>But what about scalability and monitoring of these different moving parts?</p>
<p>How do you provide any real-time analytics in a system like this?</p>
<p>With the two questions above, we have identified a use case for Spring XD.</p>
<p><em>I have never used Spring XD for any of my projects.</em></p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>I hope you were able to get an idea of what Spring Framework does. And if the terms were new, I hope you were able to look past them. These terms I discussed above fit into Spring Ecosystem in two ways – Spring modules and Spring Projects. I plan to discuss them next. Regardless, I hope you can decide now if it makes sense to use Spring Framework in your projects.</p>
<p>It would make my day if you shared how you have used or plan to use Spring Framework in your own projects.</p>
<p>I am always interested in different approaches developers take to address a specific problem.</p>
<p>If you thought of a different solution to a problem I described above, what would it be? Please don’t hesitate to share it below.</p>
<p>I promise to to give it a due consideration.</p>
<p>Please take a few minutes and say hi either in the comments below or <a href="http://springtutorials.com/facebook-connect" target="_blank" rel="noopener">connect with me on Facebook here</a>. I would love to stay in touch.</p>
<p>Thanks!</p>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div id="reward-container">
  <div></div>
  <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">

    
      
      
        
      
      <div style="display: inline-block">
        <img src="/images/my-wepay.jpg" alt="Ivan 微信支付">
        <p>微信支付</p>
      </div>
    
      
      
        
      
      <div style="display: inline-block">
        <img src="/images/my-alipay.jpg" alt="Ivan 支付宝">
        <p>支付宝</p>
      </div>
    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Spring/" rel="tag"># Spring</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/12/11/spring-zhong-duo-viewresolver-shi-jian/" rel="next" title="Spring中多ViewResolver实践">
                <i class="fa fa-chevron-left"></i> Spring中多ViewResolver实践
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/01/07/uri-url-urn/" rel="prev" title="你知道URL、URI和URN三者之间的区别吗？">
                你知道URL、URI和URN三者之间的区别吗？ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars0.githubusercontent.com/u/348097?s=460&v=4" alt="Ivan">
            
              <p class="site-author-name" itemprop="name">Ivan</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">104</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">99</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/huangfengjing" title="GitHub &rarr; https://github.com/huangfengjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:huangfengjing@gmail.com" title="E-Mail &rarr; mailto:huangfengjing@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://weibo.com/huangfengjing" title="Weibo &rarr; https://weibo.com/huangfengjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://plus.google.com/huangfengjing" title="Google &rarr; https://plus.google.com/huangfengjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-google"></i>Google</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://twitter.com/huangfengjing" title="Twitter &rarr; https://twitter.com/huangfengjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.facebook.com/huangfengjing" title="FB Page &rarr; https://www.facebook.com/huangfengjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Use-Spring-Framework-for-writing-web-applications"><span class="nav-text">1. Use Spring Framework for writing web applications</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Use-Spring-Framework-for-exposing-RESTful-services"><span class="nav-text">2. Use Spring Framework for exposing RESTful services</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Use-Spring-Framework-to-secure-your-web-applications"><span class="nav-text">3. Use Spring Framework to secure your web applications.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Use-Spring-Framework-for-communicating-with-databases"><span class="nav-text">4. Use Spring Framework for communicating with databases.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Use-Spring-Framework-for-handling-long-running-jobs"><span class="nav-text">5. Use Spring Framework for handling long running jobs.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-Use-Spring-Framework-to-handle-external-resources-or-systems-you-have-to-work-with"><span class="nav-text">6. Use Spring Framework to handle external resources or systems you have to work with.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Use-Spring-Framework-for-testing-purposes"><span class="nav-text">7. Use Spring Framework for testing purposes.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-Use-Spring-Framework-for-standalone-java-projects"><span class="nav-text">8. Use Spring Framework for standalone java projects.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Use-Spring-Framework-to-convert-your-application-into-an-executable"><span class="nav-text">9. Use Spring Framework to convert your application into an executable.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-Use-Spring-Framework-to-integrate-Social-Media-into-your-applications"><span class="nav-text">10. Use Spring Framework to integrate Social Media into your applications.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-Use-Spring-Framework-to-come-up-with-a-quick-prototype"><span class="nav-text">11. Use Spring Framework to come up with a quick prototype.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-Use-Spring-Framework-to-get-Started"><span class="nav-text">12. Use Spring Framework to get Started.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary"><span class="nav-text">Summary</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ivan</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'sPghJWhcIktqFoKTHCULrW4R-gzGzoHsz',
    appKey: 'BlHUFUqfO9HAKGSBaWWNuTUi',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn'
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
